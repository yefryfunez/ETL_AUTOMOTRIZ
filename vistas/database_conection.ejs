
<%-include('plantillas/cabecera', {titulo: 'credenciales'})%>

<nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container-fluid">


      <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="/">Proyectos</a>
            </li>
          <li class="nav-item">
            <a class="nav-link active" aria-current="page" href="/nuevo_proyecto">Nuevo proyecto</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>


        <!--------------------- FORMULARIO PARA INSERTAR LAS CREDENCIALES A LA BASE DE DATOS---------------------- -->
        
        <div class="container" style="max-width: 800px;">

            <form action="/guardar_credenciales" method="post">
                <% if (dbdatos.config_origen.server == undefined) { %>

                    <div style="max-width: 350; margin-left: 10px;" class="form-group">
                        <label for="proyecto">Nombre del proyecto:</label>
                        <input  type="text" id="proyecto" name="proyecto" required >
                    </div>

                    <table class="table">
                        <tbody>
                            <tr>
                                <td >
                                    <div class="container">
                                        <h5>Conexion origen</h5>
                                        <hr>
                                        <div class="form-group">
                                            <label for="server">server:</label>
                                            <input type="text" id="server" name="server_origen" required value="localhost">
                                        </div>
                                        <div class="form-group">
                                            <label for="user">user:</label>
                                            <input type="text" id="user" name="user_origen" required value="sa">
                                        </div>
                                        <div class="form-group">
                                            <label for="password">password:</label>
                                            <input type="password" id="password" name="password_origen" required >
                                        </div>
                                        <div class="form-group">
                                            <label for="oltp">base de datos origen (OLTP):</label>
                                            <input type="text" id="oltp" name="origen" required value="AUTOMOTRIZ" >
                                        </div>
                                    </div>
                                </td>
                                <td >
                                    <div class="container" >
                                        <h5>Conexion destino</h5>
                                        <hr>
                                        <div class="form-group">
                                            <label for="server">server:</label>
                                            <input type="text" id="server" name="server_destino" required value="localhost">
                                        </div>
                                        <div class="form-group">
                                            <label for="user">user:</label>
                                            <input type="text" id="user" name="user_destino" required value="sa">
                                        </div>
                                        <div class="form-group">
                                            <label for="password">password:</label>
                                            <input type="password" id="password" name="password_destino" required >
                                        </div>
                                        <div class="form-group">
                                            <label for="olap">base de datos destino (OLAP):</label>
                                            <input type="text" id="olap" name="destino" required value="DW_AUTOMOTRIZ">
                                        </div>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>




 
                <% } else { %>

                     <div style="max-width: 350; margin-left: 10px;" class="form-group">
                        <label for="proyecto">Nombre del proyecto:</label>
                        <input  type="text" id="proyecto" name="proyecto" required value="<%=dbdatos.proyecto %>">
                    </div>



                    <table class="table">
                        <tbody>
                            <tr>
                                <td >
                                    <div class="container">
                                        <h5>Conexion origen</h5>
                                        <hr>
                                        <div class="form-group">
                                            <label for="server">server:</label>
                                            <input type="text" id="server" name="server_origen" required value="<%=dbdatos.config_origen.server %>">
                                        </div>
                                        <div class="form-group">
                                            <label for="user">user:</label>
                                            <input type="text" id="user" name="user_origen" required value="<%=dbdatos.config_origen.user %>">
                                        </div>
                                        <div class="form-group">
                                            <label for="password">password:</label>
                                            <input type="password" id="password" name="password_origen" required value="<%=dbdatos.config_origen.password %>">
                                        </div>
                                        <div class="form-group">
                                            <label for="oltp">base de datos origen (OLTP):</label>
                                            <input type="text" id="oltp" name="origen" required value="<%=dbdatos.databases.origen %>" >
                                        </div>
                                    </div>
                                </td>
                                <td >
                                    <div class="container" >
                                        <h5>Conexion destino</h5>
                                        <hr>
                                        <div class="form-group">
                                            <label for="server">server:</label>
                                            <input type="text" id="server" name="server_destino" required value="<%=dbdatos.config_destino.server %>">
                                        </div>
                                        <div class="form-group">
                                            <label for="user">user:</label>
                                            <input type="text" id="user" name="user_destino" required value="<%=dbdatos.config_destino.user %>">
                                        </div>
                                        <div class="form-group">
                                            <label for="password">password:</label>
                                            <input type="password" id="password" name="password_destino" required value="<%=dbdatos.config_destino.password %>" >
                                        </div>
                                        <div class="form-group">
                                            <label for="olap">base de datos destino (OLAP):</label>
                                            <input type="text" id="olap" name="destino" required value="<%=dbdatos.databases.destino %>">
                                        </div>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>





                <% } %>
                <div class="form-group">
                    <input type="submit" value="Guardar">
                </div>
                <!-- -------------------- MUSTRA UN ERROR EN CASO QUE LA CONSULTA PROSENTE UNO --------------------- -->
                <% if (mensaje != '_') { %>
                    <div>
                        <%= mensaje %>
                    </div>
                <% } %>
            </form>
        </div>

</body>
</html>
